## 第四章 分布式增删改查

### 4.1 路由

​	当创建一个文档，他是如何知道是应该存储再哪个分片上呢？es不是随机的，他一般通过 hash(routin)% 主分片数

### 4.2 分片交互

​	我们能都发送请求给集群的任意节点，每个节点都有能力处理请求，每个节点也知道文档存储在哪个节点，所以也可以将请求转发到其他节点。

4.3

### 4.4检索

​	对于读请求，请求节点会为每个请求选择不同的分片——它会循环所有分片副本