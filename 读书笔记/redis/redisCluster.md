##### Redis 集群



##### 分布式领域基石原理 CAP

~~~
C  consistent 一致性
A availablity 可用性
P partition tolerance 分区可容忍性
~~~

分布式服务往往都部署在不同的机器，因此网络常常存在断开的情况。这时就要在一致性和可用性间进行取舍。

~~~
网络断开发生时，数据无法从一个节点同步到另一个节点，数据一致性得不到保证。
为了保证一致性，可以暂时将分布式服务停掉，不对外提供服务，直到网络恢复。也就是不在保证可用性。
~~~

当网络分区发生时，一致性和可用性不可兼得。



Redis 提供最终一致性

redis的数据同步也是异步进行的，那就保证不了一致性。当修改数据后，客户端可以立刻返回，即使主从之间网络存在断开的情况，redis依旧提供服务。虽然不保证一致性，但是从节点会努力的追赶主的数据，最终达到一致性。



##### 增量同步



##### 快照同步



##### 无盘复刻



##### wait